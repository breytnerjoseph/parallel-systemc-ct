% Parameters 
m = 1500.5; % kg, vehicle mass
r = 0.326; % m, wheel radius
gear_ratio = [2.34 1.450 1.000 0.68];
Rf = 3.28; % Final driver ratio
Iei = 0.224; % Kg*m2, moment of intertia of engine and torque converter 
taub = 0.2; % Lumped lag-servo valve and the hydraulic system
rhoACd = 0.98; % Aerodynamic force coefficient
Cr = 0.015; % Rolling resistance coefficient
Kc = 1; % Pressure gain
Kb = 20; % Nm/bar, Lumped gain for entire brake system
g = 9.8; % m/s2, gravitational acceleration




Te_data = [
-54.23272	-59.655992	-66.435082	-71.858354	-77.281626	-82.704898	-88.12817	-94.90726	-100.330532	-105.753804	-111.177076;
291.50087	158.630706	115.24453	89.483988	59.655992	39.318722	13.55818	-2.711636	-17.625634	-29.827996	-43.386176;
332.17541	282.010144	241.335604	200.661064	165.409796	141.005072	115.24453	89.483988	65.079264	44.741994	24.404724;
357.935952	352.51268	326.752138	296.924142	261.672874	226.421606	206.084336	180.323794	161.342342	130.158528	115.24453;
357.935952	378.273222	382.340676	372.84995	352.51268	322.684684	302.347414	282.010144	256.249602	231.844878	206.084336;
362.003406	393.18722	397.254674	402.677946	393.18722	372.84995	352.51268	347.089408	317.261412	287.433416	261.672874;
362.003406	402.677946	413.52449	413.52449	413.52449	408.101218	397.254674	382.340676	362.003406	337.598682	306.414868;
362.003406	408.101218	417.591944	423.015216	432.505942	437.929214	432.505942	428.438488	402.677946	378.273222	343.021954;
362.003406	408.101218	423.015216	432.505942	443.352486	443.352486	443.352486	443.352486	423.015216	397.254674	362.003406;
362.003406	408.101218	423.015216	432.505942	443.352486	452.843212	452.843212	452.843212	432.505942	413.52449	372.84995
]

Te_throtle = [0 20 30 40 50 60 70 80 90 100] / 100


Te_rpm = [800:400:4800]

Ktc_data = [ 137.4652 137.0650 135.8644 135.6644 137.5653 140.3666 145.2689 152.8725 162.9773 164.2779 166.1788 167.9797 170.0807 172.7820 175.3832 179.5852 183.5871 189.8901  197.6938 215.9024 244.5160 ]

Ktc_ni_ne = [0 0.1000 0.2000 0.3000 0.4000 0.5000 0.6000 0.7000 0.8000 0.8100 0.8200 0.8300 0.8400 0.8500 0.8600 0.8700 0.8800 0.8900 0.9000 0.9200 0.9400]

Ctr_data = [2.2320 2.0750 1.9750 1.8460 1.7200 1.5640 1.4090 1.2540 1.0960 1.0800 1.0610 1.0430 1.0280 1.0120 1.002 1.002 1.001 0.9980 0.9990 1.001 1.002];

Ctr_ni_ne = Ktc_ni_ne

DOWN_TABLE = [
    0	2.2352	8.9408	15.6464;
    0	2.2352	8.9408	15.6464;
    0	2.2352	11.176	17.8816;
    0	2.2352	13.4112	22.352;
    0	13.4112	22.352	35.7632;
    0	13.4112	22.352	35.7632;
]

DOWN_TH_BP = [0 2.2352 17.8816 22.352 40.2336 44.704]

UP_TABLE = [
    4.4704	13.4112	22.352	447040;
    4.4704	13.4112	22.352	447040;
    6.7056	13.4112	22.352	447040;
    10.28192	18.32864	26.822	447040;
    17.8816	31.2928	44.704	447040;
    17.8816	31.2928	44.704	447040;
]

UP_TH_BP = [ 0 11.176 15.6464 22.352 40.2336 44.704]





TWAIT = 32;

